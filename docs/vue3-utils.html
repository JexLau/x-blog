<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      纪年 |【第二期】Vue3 源码中的基础工具函数 | 纪年
    </title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/blog/_assets/style.282607dd.css">
    <link rel="modulepreload" href="/blog/_assets/common-bec3f312.js">
    <link rel="modulepreload" href="/blog/_assets/docs_vue3-utils.md.4d30142a.lean.js">
    <link rel="modulepreload" href="/blog/_assets/app.c2a4d5fc.js">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="keywords" content="纪年">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.css">
    <script src="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.js"></script>
    <script src="https://lib.baomitu.com/axios/0.21.1/axios.js"></script>
    
  </head>
  <body>
    <div id="app"><!--[--><div id="containerColor" class="no-sidebar theme" data-v-1880a9f7><header class="navbar" data-v-1880a9f7><!--[--><a class="title" aria-label="纪年, back to home" href="/blog/"><img class="logo" src="/blog/favicon.ico" alt="logo"><span>纪年</span></a><div class="flex-grow"></div><nav class="nav-links hide-mobile" data-v-1880a9f7><!--[--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/index.html" target="" rel="">🏠 首页 <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/more/docs.html" target="" rel="">📅 归档 <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/more/tags.html" target="" rel="">📂 分类 <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/more/Friendship.html" target="" rel="">👫 友情链接 <!----></a></div><!--]--><!--]--><!----><!----></nav><!--[--><!--[--><!--]--><!--]--><!--]--><div class="sidebar-button" data-v-1880a9f7><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div></header><aside class="" data-v-1880a9f7><!--[--><nav class="nav-links show-mobile" data-v-1880a9f7><!--[--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/index.html" target="" rel="">🏠 首页 <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/more/docs.html" target="" rel="">📅 归档 <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/more/tags.html" target="" rel="">📂 分类 <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-1880a9f7><a class="nav-link" href="/blog/more/Friendship.html" target="" rel="">👫 友情链接 <!----></a></div><!--]--><!--]--><!----><!----></nav><!--[--><!--[--><!--]--><!--]--><ul class="sidebar"><!--[--><!--]--></ul><!--[--><!--[--><!--]--><!--]--><!--]--></aside><!----><!-- TODO: make this button accessible --><div class="sidebar-mask" data-v-1880a9f7></div><main data-v-1880a9f7><!--[--><div class="content"><!--[--><!--[--><!--]--><!--]--><div class="md-header"><div class="md-title">纪年 |【第二期】Vue3 源码中的基础工具函数</div><span id="jinrishici-sentence">正在加载今日诗词....</span><div class="md-date">2021-08-18</div></div><ul class="catalog"><!--[--><li class="catalog-item"><a class="level level-2" href="#_1-解读前的准备">1. 解读前的准备</a><!----></li><li class="catalog-item"><a class="level level-2" href="#_2-源码调试">2. 源码调试</a><!----></li><li class="catalog-item"><!----><a class="level level-3" href="#_2-1-阅读开源项目的-readme-md-和贡献指南-contributing-md">2.1 阅读开源项目的 README.md 和贡献指南 contributing.md</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_2-2-打包构建项目代码">2.2 打包构建项目代码</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_2-3-生成-sourcemap-调试-vue-next-源码">2.3 生成 sourcemap 调试 vue-next 源码</a></li><li class="catalog-item"><a class="level level-2" href="#_3-工具函数（ts-版）">3. 工具函数（TS 版）</a><!----></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-1-babelparserdefaultplugins：babel-解析默认插件">3.1 babelParserDefaultPlugins：babel 解析默认插件</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-2-empty-obj：空对象，empty-arr：空数组">3.2 EMPTYOBJ：空对象，EMPTYARR：空数组</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-3-noop：空函数">3.3 NOOP：空函数</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-4-no：永远返回-false-的函数">3.4 NO：永远返回 false 的函数</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-5-ison：判断字符串是否以-on-开头，并且-on-后首字母是非小写字母">3.5 isOn：判断字符串是否以 on 开头，并且 on 后首字母是非小写字母</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-6-ismodellistener：监听器">3.6 isModelListener：监听器</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-7-extend：合并对象">3.7 extend：合并对象</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-8-remove：移除数组的一项">3.8  remove：移除数组的一项</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-9-hasown：判断一个属性是否属于某个对象">3.9 hasOwn：判断一个属性是否属于某个对象</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-10-判断是否某种类型">3.10 判断是否某种类型</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-11-torawtype：对象转字符串，截取后第八位到倒数第二位。">3.11 toRawType：对象转字符串，截取后第八位到倒数第二位。</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-12-isplainobject：判断是否纯粹的对象">3.12  isPlainObject：判断是否纯粹的对象</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-13-isintegerkey：判断是不是数字型的字符串-key-值">3.13 isIntegerKey：判断是不是数字型的字符串 key 值</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-14-isreservedprop：判断该属性是否为保留属性">3.14 isReservedProp：判断该属性是否为保留属性</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-15-cachestringfunction-缓存字符串的函数">3.15 cacheStringFunction 缓存字符串的函数</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-16-haschanged：判断值是否有变化">3.16 hasChanged：判断值是否有变化</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-17-invokearrayfns：执行数组里的函数">3.17  invokeArrayFns：执行数组里的函数</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-18-def：定义一个不可枚举的对象">3.18 def：定义一个不可枚举的对象</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-19-tonumber：转数字">3.19 toNumber：转数字</a></li><li class="catalog-item"><!----><a class="level level-3" href="#_3-20-getglobalthis：全局对象">3.20 getGlobalThis：全局对象</a></li><li class="catalog-item"><a class="level level-2" href="#_4-感想">4. 感想</a><!----></li><!--]--></ul><div data-v-1880a9f7><blockquote><p>【若川】Vue3 源码基础工具函数解读链接：<a href="https://juejin.cn/post/6994976281053888519" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6994976281053888519</a></p></blockquote><h2 id="_1-解读前的准备"><a class="header-anchor" href="#_1-解读前的准备" aria-hidden="true">#</a> 1. 解读前的准备</h2><p>粗略阅读了川哥的文章之后，感觉这期跟上一期不一样。上一期主要学习如何实现某个功能，而这一期主要是学习 <strong>Vue3 源码中的工具函数</strong>，以及 <strong>Vue3 源码的一些调试技巧</strong>。虽然看起来偏基础，但我觉得很考验一个程序员的基本功和耐心。</p><p>学习目标：</p><p>1）调试源码之打包构建项目代码，生成 sourcemap 调试源码</p><p>2）学习源码中的工具函数</p><p>目标：跟着川哥的文章走完一遍调试的流程，动手敲工具函数，对外输出记录文档。</p><p>资源准备：</p><p>Vue3 源码地址：<code>https://github.com/vuejs/vue-next</code></p><h2 id="_2-源码调试"><a class="header-anchor" href="#_2-源码调试" aria-hidden="true">#</a> 2. 源码调试</h2><h3 id="_2-1-阅读开源项目的-readme-md-和贡献指南-contributing-md"><a class="header-anchor" href="#_2-1-阅读开源项目的-readme-md-和贡献指南-contributing-md" aria-hidden="true">#</a> 2.1 阅读开源项目的 <a href="http://README.md" target="_blank" rel="noopener noreferrer">README.md</a> 和贡献指南 <a href="http://contributing.md" target="_blank" rel="noopener noreferrer">contributing.md</a></h3><p>我觉得这两个文件对阅读源码的开发者来说十分重要。<a href="http://README.md" target="_blank" rel="noopener noreferrer">README.md</a> 描述的是项目的基本信息，它可以快速了解这个项目的全貌。贡献指南 <a href="http://contributing.md" target="_blank" rel="noopener noreferrer">contributing.md</a> 会包含如何参与项目开发，项目打包/运行命令，项目目录结构等等，它能帮助你更好地调试/参与开发源码。在 <a href="http://contributing.md" target="_blank" rel="noopener noreferrer">contributing.md</a> 中我看到了一些比较感兴趣的知识点，比如打包构建格式/配置，包依赖处理。</p><h3 id="_2-2-打包构建项目代码"><a class="header-anchor" href="#_2-2-打包构建项目代码" aria-hidden="true">#</a> 2.2 打包构建项目代码</h3><p>安装完依赖，直接运行<code>yarn build</code>就可以打包 Vue3 的项目代码了，打包的产物如下（以 shared 模块为例）：</p><p><img src="data:image/png;base64,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" alt=""></p><p>这里的 <code>cjs</code>，<code>esm</code> 是 JS 里用来实现【模块化】的不同规则，JS 的模块化标准还有 <code>amd</code>，<code>umd</code>，<code>iife</code>。</p><ul><li>CJS，CommonJS，只能在 NodeJS 上运行，使用 require(&quot;module&quot;) 读取并加载模块，不支持浏览器</li><li>ESM，ECMAScript Module，现在使用的模块方案，使用 import export 来管理依赖，浏览器直接通过 <code>&lt;script type=&quot;module&quot;&gt;</code> 即可使用该写法。NodeJS 可以通过使用 mjs 后缀或者在 package.json 添加 &quot;type&quot;: &quot;module&quot; 来使用</li></ul><h3 id="_2-3-生成-sourcemap-调试-vue-next-源码"><a class="header-anchor" href="#_2-3-生成-sourcemap-调试-vue-next-源码" aria-hidden="true">#</a> 2.3 生成 sourcemap 调试 vue-next 源码</h3><p>在贡献指南 <a href="http://contributing.md" target="_blank" rel="noopener noreferrer">contributing.md</a> 文件中描述了如何生成 sourcemap 文件：添加【--sourcemap】参数即可。</p><div class="language-"><pre><code>node scripts/dev.js --sourcemap
</code></pre></div><p>packages/vue/dist/vue.global.js.map 就是 sourcemap 文件了。</p><p>sourcemap 是一个信息文件，里面储存着位置信息，转换后的代码的每一个位置，所对应的转换前的位置。有了它，出错时出错工具将直接显示原始代码，而不是转换后的代码，方便调试。</p><h2 id="_3-工具函数（ts-版）"><a class="header-anchor" href="#_3-工具函数（ts-版）" aria-hidden="true">#</a> 3. 工具函数（TS 版）</h2><h3 id="_3-1-babelparserdefaultplugins：babel-解析默认插件"><a class="header-anchor" href="#_3-1-babelparserdefaultplugins：babel-解析默认插件" aria-hidden="true">#</a> 3.1 babelParserDefaultPlugins：babel 解析默认插件</h3><div class="language-typescript"><pre><code><span class="token comment">/**
 * List of @babel/parser plugins that are used for template expression
 * transforms and SFC script transforms. By default we enable proposals slated
 * for ES2020. This will need to be updated as the spec moves forward.
 * Full list at https://babeljs.io/docs/en/next/babel-parser#plugins
 */</span>
<span class="token keyword">const</span> babelParserDefaultPlugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;bigInt&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;optionalChaining&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;nullishCoalescingOperator&#39;</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</code></pre></div><p>它定义了三个默认插件， <code>as const</code> 这个语法叫 <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions" target="_blank" rel="noopener noreferrer">const 断言</a>，它可以创建完整的 readonly 对象（只读状态），编译器可以通过 as const 推断出可用于的最具体的表达类型。</p><h3 id="_3-2-empty-obj：空对象，empty-arr：空数组"><a class="header-anchor" href="#_3-2-empty-obj：空对象，empty-arr：空数组" aria-hidden="true">#</a> 3.2 EMPTY_OBJ：空对象，EMPTY_ARR：空数组</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">EMPTY_OBJ</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span> <span class="token operator">=</span> __DEV__
  <span class="token operator">?</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">EMPTY_ARR</span> <span class="token operator">=</span> __DEV__ <span class="token operator">?</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><p>Object.freeze 冻结对象，不可修改对象的最外层，这样的写法可以降低在开发过程中发生错误。</p><p><strong>DEV</strong> 是一个环境变量，为了避免在生产环境报错，生产环境使用的还是 {} 和 []。</p><h3 id="_3-3-noop：空函数"><a class="header-anchor" href="#_3-3-noop：空函数" aria-hidden="true">#</a> 3.3 NOOP：空函数</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">NOOP</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-4-no：永远返回-false-的函数"><a class="header-anchor" href="#_3-4-no：永远返回-false-的函数" aria-hidden="true">#</a> 3.4 NO：永远返回 false 的函数</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">NO</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span>
</code></pre></div><h3 id="_3-5-ison：判断字符串是否以-on-开头，并且-on-后首字母是非小写字母"><a class="header-anchor" href="#_3-5-ison：判断字符串是否以-on-开头，并且-on-后首字母是非小写字母" aria-hidden="true">#</a> 3.5 isOn：判断字符串是否以 on 开头，并且 on 后首字母是非小写字母</h3><div class="language-typescript"><pre><code><span class="token keyword">const</span> onRE <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^on[^a-z]</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isOn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> onRE<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
</code></pre></div><p>【^】符号在开头，表示是指【以什么开头】，在其他地方是指【非】。与之相反的是：【$】符合在结尾，则表示是以什么结尾。</p><p>日常开发中我们也经常会用到正则判断，可以收集起来，积累的数量多了就不用每次都去搜索了😉。</p><h3 id="_3-6-ismodellistener：监听器"><a class="header-anchor" href="#_3-6-ismodellistener：监听器" aria-hidden="true">#</a> 3.6 isModelListener：监听器</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isModelListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;onUpdate:&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p>判断字符串是不是以【onUpdate:】开头</p><h3 id="_3-7-extend：合并对象"><a class="header-anchor" href="#_3-7-extend：合并对象" aria-hidden="true">#</a> 3.7 extend：合并对象</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> extend <span class="token operator">=</span> Object<span class="token punctuation">.</span>assign
</code></pre></div><p>其实 extend 就是 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener noreferrer">Object.assign</a>，用于将所有可枚举属性的值从一个或多个源对象分配到目标对象。</p><h3 id="_3-8-remove：移除数组的一项"><a class="header-anchor" href="#_3-8-remove：移除数组的一项" aria-hidden="true">#</a> 3.8 remove：移除数组的一项</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> remove <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> el<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>看源码的实现很好理解，传入一个数组和一个元素，判断元素是否存在在数组中，如果存在将其删除。</p><p>川哥的文章里有说到，splice 是一个很耗性能的方法，删除数组中的一项，其他元素都要移动位置。<strong>所以在考虑性能的情况下，可以将删除的元素设为 null，在使用执行时为 null 的不执行，也可达到相同的效果</strong>。</p><h3 id="_3-9-hasown：判断一个属性是否属于某个对象"><a class="header-anchor" href="#_3-9-hasown：判断一个属性是否属于某个对象" aria-hidden="true">#</a> 3.9 hasOwn：判断一个属性是否属于某个对象</h3><div class="language-typescript"><pre><code><span class="token keyword">const</span> hasOwnProperty <span class="token operator">=</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>hasOwnProperty
<span class="token keyword">export</span> <span class="token keyword">const</span> hasOwn <span class="token operator">=</span> <span class="token punctuation">(</span>
  val<span class="token operator">:</span> object<span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span>
<span class="token punctuation">)</span><span class="token operator">:</span> key <span class="token keyword">is</span> <span class="token keyword">keyof</span> <span class="token keyword">typeof</span> val <span class="token operator">=&gt;</span> <span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
</code></pre></div><p>函数本身很好理解，利用原型的 API：hasOwnProperty 来判断 key 是否是 obj 本身的属性。</p><p>但【key is keyof typeof val】可能会有些迷惑，这里包含了三个 typescript 的语法，意思是函数返回的 key 是 属于 val 对象的键的联合类型。</p><ul><li>【is】关键字：它被称为类型谓词，用来判断一个变量属于某个接口或类型，比如：</li></ul><div class="language-typescript"><pre><code><span class="token keyword">const</span> isNumber <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;number&#39;</span>
<span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span>
</code></pre></div><ul><li>【keyof】关键字：用于获取某种类型的所有键，其返回类型是联合类型，比如：</li></ul><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Person<span class="token punctuation">;</span> <span class="token comment">// &quot;name&quot; | &quot;age&quot;</span>
</code></pre></div><ul><li>【typeof】关键字：js 中的 typeof 只能获取几种类型，而在 ts 中 typeof 用来获取一个变量声明或对象的类型，比如：</li></ul><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> sem<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;semlinker&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Sem</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> sem<span class="token punctuation">;</span> <span class="token comment">// -&gt; Person</span>
</code></pre></div><h3 id="_3-10-判断是否某种类型"><a class="header-anchor" href="#_3-10-判断是否某种类型" aria-hidden="true">#</a> 3.10 判断是否某种类型</h3><div class="language-typescript"><pre><code><span class="token comment">// 判断数组</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isArray <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span>isArray

<span class="token comment">// 对象转字符串</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> objectToString <span class="token operator">=</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString
<span class="token keyword">export</span> <span class="token keyword">const</span> toTypeString <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span>
  <span class="token function">objectToString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>

<span class="token comment">// 判断是否 Map 对象</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isMap <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> Map<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span>
  <span class="token function">toTypeString</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object Map]&#39;</span>

<span class="token comment">// 判断是否 Set 对象</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isSet <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> Set<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span>
  <span class="token function">toTypeString</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object Set]&#39;</span>

<span class="token comment">// 判断是否 Date 对象</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isDate <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> Date <span class="token operator">=&gt;</span> val <span class="token keyword">instanceof</span> <span class="token class-name">Date</span>

<span class="token comment">// 判断是否函数</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isFunction <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> <span class="token builtin">Function</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span>

<span class="token comment">// 判断是否字符串</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span>

<span class="token comment">// 判断是否 Symbol</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isSymbol <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> <span class="token builtin">symbol</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;symbol&#39;</span>

<span class="token comment">// 判断是否对象（不包括 null）</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isObject <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> Record<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span>
  val <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span>

<span class="token comment">// 判断是否 Promise</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> isPromise <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">isObject</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFunction</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>then<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFunction</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有了这些函数就可以在工作中用起来啦。</p><h3 id="_3-11-torawtype：对象转字符串，截取后第八位到倒数第二位。"><a class="header-anchor" href="#_3-11-torawtype：对象转字符串，截取后第八位到倒数第二位。" aria-hidden="true">#</a> 3.11 toRawType：对象转字符串，截取后第八位到倒数第二位。</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> toRawType <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// extract &quot;RawType&quot; from strings like &quot;[object RawType]&quot;</span>
  <span class="token keyword">return</span> <span class="token function">toTypeString</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以截取到 String Array 等这些类型，这个函数可以用来做类型判断。</p><h3 id="_3-12-isplainobject：判断是否纯粹的对象"><a class="header-anchor" href="#_3-12-isplainobject：判断是否纯粹的对象" aria-hidden="true">#</a> 3.12 isPlainObject：判断是否纯粹的对象</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> isPlainObject <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> object <span class="token operator">=&gt;</span>
  <span class="token function">toTypeString</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object Object]&#39;</span>
</code></pre></div><h3 id="_3-13-isintegerkey：判断是不是数字型的字符串-key-值"><a class="header-anchor" href="#_3-13-isintegerkey：判断是不是数字型的字符串-key-值" aria-hidden="true">#</a> 3.13 isIntegerKey：判断是不是数字型的字符串 key 值</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isIntegerKey</span> <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token function">isString</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
  key <span class="token operator">!==</span> <span class="token string">&#39;NaN&#39;</span> <span class="token operator">&amp;&amp;</span>
  key<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&#39;-&#39;</span> <span class="token operator">&amp;&amp;</span>
  <span class="token string">&#39;&#39;</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">===</span> key
</code></pre></div><p>第一步先判断 key 是否是字符串类型（作为 key 值有两种类型，string 和 symbol），第二步排除 NaN 值，第三步排除 - 值（排除负数），第四步将 key 转换成数字再隐式转换为字符串，与原 key 对比。</p><h3 id="_3-14-isreservedprop：判断该属性是否为保留属性"><a class="header-anchor" href="#_3-14-isreservedprop：判断该属性是否为保留属性" aria-hidden="true">#</a> 3.14 isReservedProp：判断该属性是否为保留属性</h3><div class="language-typescript"><pre><code><span class="token comment">/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">makeMap</span><span class="token punctuation">(</span>
  str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  expectsLowerCase<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> map<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> list<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    map<span class="token punctuation">[</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> expectsLowerCase <span class="token operator">?</span> val <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>map<span class="token punctuation">[</span>val<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> val <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>map<span class="token punctuation">[</span>val<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> isReservedProp <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span> <span class="token function">makeMap</span><span class="token punctuation">(</span>
  <span class="token comment">// the leading comma is intentional so empty string &quot;&quot; is also included</span>
  <span class="token string">&#39;,key,ref,&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;onVnodeBeforeMount,onVnodeMounted,&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;onVnodeBeforeUpdate,onVnodeUpdated,&#39;</span> <span class="token operator">+</span>
    <span class="token string">&#39;onVnodeBeforeUnmount,onVnodeUnmounted&#39;</span>
<span class="token punctuation">)</span>

<span class="token comment">// 使用：</span>
<span class="token function">isReservedProp</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isReservedProp</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">isReservedProp</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>如何解读这个函数？先看 makeMap，它传入一个字符串，将这个字符串转换成数组，并循环赋值 key 給一个空对象map，然后返回一个包含参数 val 的闭包用来检查 val 是否是存在在字符串中。</p><p>isReservedProp(&quot;key&quot;) 其实就相当于 makeMap(str)(&quot;key&quot;)。</p><h3 id="_3-15-cachestringfunction-缓存字符串的函数"><a class="header-anchor" href="#_3-15-cachestringfunction-缓存字符串的函数" aria-hidden="true">#</a> 3.15 cacheStringFunction 缓存字符串的函数</h3><div class="language-typescript"><pre><code><span class="token keyword">const</span> cacheStringFunction <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>fn<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cache<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> hit <span class="token operator">=</span> cache<span class="token punctuation">[</span>str<span class="token punctuation">]</span>
    <span class="token keyword">return</span> hit <span class="token operator">||</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用例子：</span>
<span class="token comment">// &quot;-&quot;连字符转小驼峰</span>
<span class="token comment">// \w：0-9a-zA-Z_，表示由数字，大小写字母和下划线组成</span>
<span class="token keyword">const</span> camelizeRE <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-(\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">export</span> <span class="token keyword">const</span> camelize <span class="token operator">=</span> <span class="token function">cacheStringFunction</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>camelizeRE<span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>c <span class="token operator">?</span> c<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">&quot;text-node&quot;</span><span class="token punctuation">)</span> <span class="token comment">// &quot;textNode&quot;</span>

<span class="token comment">// 大写字母转&quot;-&quot;连字符</span>
<span class="token comment">// \B 是指 非 \B 单词边界。</span>
<span class="token keyword">const</span> hyphenateRE <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\B([A-Z])</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hyphenate <span class="token operator">=</span> <span class="token function">cacheStringFunction</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>hyphenateRE<span class="token punctuation">,</span> <span class="token string">&#39;-$1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hyphenate</span><span class="token punctuation">(</span><span class="token string">&quot;WordPress&quot;</span><span class="token punctuation">)</span> <span class="token comment">// &quot;word-press&quot;</span>

<span class="token comment">// 首字母转大写</span>
<span class="token keyword">const</span> capitalize <span class="token operator">=</span> <span class="token function">cacheStringFunction</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">const</span> toHandlerKey <span class="token operator">=</span> <span class="token function">cacheStringFunction</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>str <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">on</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">capitalize</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">toHandlerKey</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">)</span> <span class="token comment">// &quot;onClick&quot;</span>
</code></pre></div><p>这个函数和上面 makeMap 函数类似，传入一个 fn 参数，返回一个包含参数 str 的闭包，将这个 str 字符串作为 key 赋值给一个空对象 cache，闭包返回 cache[str] || (cache[str] = fn(str))。</p><p>【cache[str] || (cache[str] = fn(str))】的意思是，如果 cache 有缓存到 str 这个 key，直接返回对应的值，否则，先调用 fn(str)，再赋值给 cache[str]，这样可以将需要经过 fn 函数处理的字符串缓存起来，避免多次重复处理字符串。</p><h3 id="_3-16-haschanged：判断值是否有变化"><a class="header-anchor" href="#_3-16-haschanged：判断值是否有变化" aria-hidden="true">#</a> 3.16 hasChanged：判断值是否有变化</h3><div class="language-typescript"><pre><code><span class="token keyword">const</span> hasChanged <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> oldValue<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span>
  <span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token keyword">is</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
</code></pre></div><p><a href="./about:blank.html">Object.is</a> 方法判断两个值是否为同一个值。</p><h3 id="_3-17-invokearrayfns：执行数组里的函数"><a class="header-anchor" href="#_3-17-invokearrayfns：执行数组里的函数" aria-hidden="true">#</a> 3.17 invokeArrayFns：执行数组里的函数</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">invokeArrayFns</span> <span class="token operator">=</span> <span class="token punctuation">(</span>fns<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arg<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这种写法方便统一执行多个函数。</p><h3 id="_3-18-def：定义一个不可枚举的对象"><a class="header-anchor" href="#_3-18-def：定义一个不可枚举的对象" aria-hidden="true">#</a> 3.18 def：定义一个不可枚举的对象</h3><div class="language-typescript"><pre><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">def</span> <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token operator">:</span> object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    value
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="./about:blank.html">Object.defineProperty</a>，语法：<em>Object.defineProperty(obj, prop, descriptor)</em>，它是一个非常重要的 API，经常会在源码中看见它。</p><blockquote><p>在 ES3 中，除了一些内置属性（如：Math.PI），对象所有的属性在任何时候都可以被[修改、插入、删除。</p><p>在ES5 中，我们可以设置属性是否可以被改变或是被删除——在这之前，它是内置属性的特权。</p><p>ES5 中引入了<strong>属性描述符</strong>的概念，我们可以通过它对所定义的属性有更大的控制权，这些<strong>属性描述符</strong>（特性）包括： value —— 获取属性时所返回的值。 writable —— 该属性是否可写。 enumerable —— 该属性在 for in 循环中是否会被枚举。 configurable —— 该属性是否可被删除。 set() —— 该属性的更新操作所调用的函数。 get() —— 获取属性值时所调用的函数。</p><p>另外，<strong>数据描述符</strong>（其中属性为：enumerable，configurable，value，writable）与<strong>存取描述符</strong>（其中属性为enumerable，configurable，set()，get()）之间是有互斥关系的。在定义了set()和get()之后，描述符会认为存取操作已被定义了，其中再定义 value 和 writable 会<strong>引起错误</strong>。</p></blockquote><h3 id="_3-19-tonumber：转数字"><a class="header-anchor" href="#_3-19-tonumber：转数字" aria-hidden="true">#</a> 3.19 toNumber：转数字</h3><div class="language-typescript"><pre><code>  <span class="token keyword">export</span> <span class="token keyword">const</span> toNumber <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">?</span> val <span class="token operator">:</span> n
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-20-getglobalthis：全局对象"><a class="header-anchor" href="#_3-20-getglobalthis：全局对象" aria-hidden="true">#</a> 3.20 getGlobalThis：全局对象</h3><div class="language-typescript"><pre><code><span class="token keyword">let</span> _globalThis<span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> getGlobalThis <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    _globalThis <span class="token operator">||</span>
    <span class="token punctuation">(</span>_globalThis <span class="token operator">=</span>
      <span class="token keyword">typeof</span> globalThis <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span>
        <span class="token operator">?</span> globalThis
        <span class="token operator">:</span> <span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span>
        <span class="token operator">?</span> self
        <span class="token operator">:</span> <span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span>
        <span class="token operator">?</span> window
        <span class="token operator">:</span> <span class="token keyword">typeof</span> global <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span>
        <span class="token operator">?</span> global
        <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>第一次调用这个函数时，_globalThis 肯定为 &quot;undefined&quot;，接着执行【||】后的语句。</p><ol><li><code>typeof globalThis !== &#39;undefined&#39;</code> 如果 globalThis 不是 undefined，返回 globalThis：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FglobalThis" target="_blank" rel="noopener noreferrer">MDN globalThis</a>。否则 -&gt;</li><li><code>typeof self !== &#39;undefined&#39;</code> 如果 self 不是 undefined，返回 self。否则 -&gt;</li><li><code>typeof window !== &#39;undefined&#39;</code> 如果 window 不是 undefined，返回 widow。否则 -&gt;</li><li><code>typeof global !== &#39;undefined&#39;</code> 如果 global 不是 undefined，返回 global。否则 -&gt;</li><li>返回 {}</li></ol><p>第二次调用这个函数，就直接返回 _globalThis，不需要第二次继续判断了👍</p><h2 id="_4-感想"><a class="header-anchor" href="#_4-感想" aria-hidden="true">#</a> 4. 感想</h2><ul><li><p>很多工具函数可以通过做缓存以达到优化性能的目的</p></li><li><p><a href="https://mp.weixin.qq.com/s/Y3nL3GPcxiqb3zK6pEuycg" target="_blank" rel="noopener noreferrer">Object 对象 API 解析</a> 无论什么时候都不过时，适合反复阅读，加深对 Object 的理解</p></li><li><p>工作中如果有用到类似的工具函数，可参考这些写法</p></li><li><p>学习了一些 typescript 不太常见的语法： 【! 非空断言操作符】【?? 空值合并运算符】</p></li><li><p>生成 sourcemap 调试 ts 代码</p></li></ul><div id="gitalk-container" data-v-1880a9f7></div></div><div class="links-wrapper" data-v-1880a9f7><div class="prev-link"><!----></div><div class="next-link"><!----></div></div><div data-v-1880a9f7><footer class="page-edit"><!--[--><a key="0" href="https://juejin.cn/user/3175045313607534"><img class="imgIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC"></a><!--]--></footer><p class="platform"> 以上皆为 <a href="javascript:;">纪年</a> 文章发布平台 </p><p class="platform"> Copyright © 2020-2021 <a href="https://github.com/jexlau">@JexLau</a></p></div><!--[--><!--[--><!--]--><!--]--></div><!-- 只想点击背景才关闭 请使用 .self 修饰符 --><div style="display:none;" class="imgBox"><img src=""></div><!--]--></main><div class="theme-select" data-v-1880a9f7><ul data-v-1880a9f7><li class="active" data-v-1880a9f7>☀️</li><li class="" data-v-1880a9f7>🌑</li></ul></div></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"a49591c5\",\"README.md\":\"c858e745\",\"docs_co.md\":\"087aba0c\",\"docs_launch-editor.md\":\"7e6887da\",\"docs_vue3-release.md\":\"6c18248d\",\"docs_vue3-utils.md\":\"4d30142a\",\"more_docs.md\":\"4b1bb4bd\",\"more_Friendship.md\":\"a5324780\",\"more_index.md\":\"253ee8a1\",\"more_tags.md\":\"004183e3\"}")</script>
    <script type="module" async src="/blog/_assets/app.c2a4d5fc.js"></script>
  </body>
</html>